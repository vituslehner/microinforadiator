<!DOCTYPE html>
<!--
  ~ Copyright (c) 2017. Vitus Lehner. UrbanLife+. Universität der Bundeswehr München.
  -->

<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta charset="UTF-8"/>
    <title>UrbanLife+ Microinforadiator Overview</title>

    <style type="text/css">
        html, body {
            font-family: "Helvetica Neue", "Helvetica", sans-serif;
            background-color: #F2F1F2;
        }

        #wrapper {
            width: 95%;
            margin: 25px auto;
            padding: 20px;
            background-color: #FFFFFF;
            border: 1px solid #DDDDDD;
            border-radius: 5px;
        }

        #map {
            width: 100%;
            height: 400px;
        }
    </style>
</head>
<body>
<div id="wrapper">
    <h2>Mikroinformationsstrahler</h2>
    <hr/>
    <p>UrbanLife+ | MIR-ID: <strong th:text="${mir_id}"/> <span th:text="${message}"/></p>
    <hr/>
    <div id="map"></div>

    <script>
        /*<![CDATA[*/
        var map;
        var data;
        function initMap() {
            map = new google.maps.Map(document.getElementById('map'), {
                zoom: 18,
                center: new google.maps.LatLng(51.1876702, 6.4605512),
                mapTypeId: 'terrain',

            });

            data = ["51.187670, 6.462004",
                "51.187684, 6.461759",
                "51.187698, 6.461524",
                "51.187712, 6.461304",
                "51.187747, 6.460946",
                "51.187911, 6.460667",
                "51.187914, 6.460508",
                "51.187758, 6.460262",
                "51.187695, 6.460557",
                "51.188048, 6.460471",
                "51.188328, 6.460119",
                "51.188126, 6.460942",
                "51.187421, 6.462069",
                "51.187612, 6.462536",
                "51.187604, 6.462981"];
        }

        // Loop through the results array and place a marker for each
        // set of coordinates.
        window.onload = function () {
            for (var i = 0; i < data.length; i++) {
                var coords = data[i].split(", ");
                console.info("X: " + coords[0] + " Y: " + coords[1]);
                var latLng = new google.maps.LatLng(coords[0], coords[1]);
                /*var marker = new google.maps.Marker({
                    position: latLng,
                    map: map
                });*/
                var color = '#cecece';
                if (i === 2 || i === 3 || i === 4) {
                    color = '#eb111f'
                }
                else if (i === 6 || i === 7 || i === 9) {
                    color = '#524ee3'
                }
                var circleMarker = new google.maps.Circle({
                    strokeColor: color,
                    strokeOpacity: 1,
                    strokeWeight: 2,
                    fillColor: color,
                    fillOpacity: 0.85,
                    map: map,
                    center: latLng,
                    radius: 2.5
                });
            }
        }
        /*]]>*/
    </script>
    <script async="async" defer="defer"
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAyoI0_b6XkPvj-_VpKcZfcwcYbJ1lV-80&amp;callback=initMap">
    </script>
</div>
</body>
</html>